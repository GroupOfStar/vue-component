!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(["Vue"],b):a.VueResource=b(a.Vue)}(this,function(a){"use strict";function e(a){this.state=d,this.value=void 0,this.deferred=[];var b=this;try{a(function(a){b.resolve(a)},function(a){b.reject(a)})}catch(c){b.reject(c)}}function g(a,b){this.promise=a instanceof Promise?a:new Promise(a.bind(b)),this.context=b}function q(a){"undefined"!=typeof console&&m&&console.warn("[VueResource warn]: "+a)}function r(a){"undefined"!=typeof console&&console.error(a)}function s(a,b){return n(a,b)}function t(a){return a?a.replace(/^\s*|\s*$/g,""):""}function u(a,b){return a&&void 0===b?a.replace(/\s+$/,""):a&&b?a.replace(new RegExp("["+b+"]+$"),""):a}function v(a){return a?a.toLowerCase():""}function w(a){return a?a.toUpperCase():""}function y(a){return"string"==typeof a}function z(a){return"function"==typeof a}function A(a){return null!==a&&"object"==typeof a}function B(a){return A(a)&&Object.getPrototypeOf(a)==Object.prototype}function C(a){return"undefined"!=typeof Blob&&a instanceof Blob}function D(a){return"undefined"!=typeof FormData&&a instanceof FormData}function E(a,b,c){var d=g.resolve(a);return arguments.length<2?d:d.then(b,c)}function F(a,b,c){return c=c||{},z(c)&&(c=c.call(b)),I(a.bind({$vm:b,$options:c}),a,{$options:c})}function G(a,b){var c,d;if(x(a))for(c=0;c<a.length;c++)b.call(a[c],a[c],c);else if(A(a))for(d in a)j.call(a,d)&&b.call(a[d],a[d],d);return a}function I(a){var b=l.call(arguments,1);return b.forEach(function(b){L(a,b,!0)}),a}function J(a){var b=l.call(arguments,1);return b.forEach(function(b){for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a}function K(a){var b=l.call(arguments,1);return b.forEach(function(b){L(a,b)}),a}function L(a,b,c){for(var d in b)c&&(B(b[d])||x(b[d]))?(B(b[d])&&!B(a[d])&&(a[d]={}),x(b[d])&&!x(a[d])&&(a[d]=[]),L(a[d],b[d],c)):void 0!==b[d]&&(a[d]=b[d])}function O(a,b,c){var d=P(a),e=d.expand(b);return c&&c.push.apply(c,d.vars),e}function P(a){var b=["+","#",".","/",";","?","&"],c=[];return{vars:c,expand:function(d){return a.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(a,e,f){var g,h,i;return e?(g=null,h=[],-1!==b.indexOf(e.charAt(0))&&(g=e.charAt(0),e=e.substr(1)),e.split(/,/g).forEach(function(a){var b=/([^:\*]*)(?::(\d+)|(\*))?/.exec(a);h.push.apply(h,Q(d,g,b[1],b[2]||b[3])),c.push(b[1])}),g&&"+"!==g?(i=",","?"===g?i="&":"#"!==g&&(i=g),(0!==h.length?g:"")+h.join(i)):h.join(",")):U(f)})}}}function Q(a,b,c,d){var g,e=a[c],f=[];return R(e)&&""!==e?"string"==typeof e||"number"==typeof e||"boolean"==typeof e?(e=e.toString(),d&&"*"!==d&&(e=e.substring(0,parseInt(d,10))),f.push(T(b,e,S(b)?c:null))):"*"===d?Array.isArray(e)?e.filter(R).forEach(function(a){f.push(T(b,a,S(b)?c:null))}):Object.keys(e).forEach(function(a){R(e[a])&&f.push(T(b,e[a],a))}):(g=[],Array.isArray(e)?e.filter(R).forEach(function(a){g.push(T(b,a))}):Object.keys(e).forEach(function(a){R(e[a])&&(g.push(encodeURIComponent(a)),g.push(T(b,e[a].toString())))}),S(b)?f.push(encodeURIComponent(c)+"="+g.join(",")):0!==g.length&&f.push(g.join(","))):";"===b?f.push(encodeURIComponent(c)):""!==e||"&"!==b&&"?"!==b?""===e&&f.push(""):f.push(encodeURIComponent(c)+"="),f}function R(a){return void 0!==a&&null!==a}function S(a){return";"===a||"&"===a||"?"===a}function T(a,b,c){return b="+"===a||"#"===a?U(b):encodeURIComponent(b),c?encodeURIComponent(c)+"="+b:b}function U(a){return a.split(/(%[0-9A-Fa-f]{2})/g).map(function(a){return/%[0-9A-Fa-f]/.test(a)||(a=encodeURI(a)),a}).join("")}function W(a,b){var e,c=this||{},d=a;return y(a)&&(d={url:a,params:b}),d=I({},W.options,c.$options,d),W.transforms.forEach(function(a){y(a)&&(a=W.transform[a]),z(a)&&(e=X(a,e,c.$vm))}),e(d)}function X(a,b,c){return function(d){return a.call(c,d,b)}}function Y(a,b,c){var f,d=x(b),e=B(b);G(b,function(b,g){f=A(b)||x(b),c&&(g=c+"["+(e||f?g:"")+"]"),!c&&d?a.add(b.name,b.value):f?Y(a,b,g):a.add(g,b)})}function cb(a){var b=a.match(/^\[|^\{(?!\{)/),c={"[":/]$/,"{":/}$/};return b&&c[b[0]].test(a)}function lb(a,b){var c=a.client||(o?ib:jb);b(c(a))}function nb(a,b){return Object.keys(a).reduce(function(a,c){return v(b)===v(c)?c:a},null)}function ob(a){if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return t(a)}function qb(a){return new g(function(b){var c=new FileReader;c.readAsText(a),c.onload=function(){b(c.result)}})}function rb(a){return 0===a.type.indexOf("text")||-1!==a.type.indexOf("json")}function vb(a){var b=this||{},c=kb(b.$vm);return J(a||{},b.$options,vb.options),vb.interceptors.forEach(function(a){y(a)&&(a=vb.interceptor[a]),z(a)&&c.use(a)}),c(new sb(a)).then(function(a){return a.ok?a:g.reject(a)},function(a){return a instanceof Error&&r(a),g.reject(a)})}function wb(a,b,c,d){var e=this||{},f={};return c=H({},wb.actions,c),G(c,function(c,g){c=I({url:a,params:H({},b)},d,c),f[g]=function(){return(e.$http||vb)(xb(c,arguments))}}),f}function xb(a,b){var e,c=H({},a),d={};switch(b.length){case 2:d=b[0],e=b[1];break;case 1:/^(POST|PUT|PATCH)$/i.test(c.method)?e=b[0]:d=b[0];break;case 0:break;default:throw"Expected up to 2 arguments [params, body], got "+b.length+" arguments"}return c.body=e,c.params=H({},c.params,d),c}function yb(a){yb.installed||(p(a),a.url=W,a.http=vb,a.resource=wb,a.Promise=g,Object.defineProperties(a.prototype,{$url:{get:function(){return F(a.url,this,this.$options.url)}},$http:{get:function(){return F(a.http,this,this.$options.http)}},$resource:{get:function(){return a.resource.bind(this)}},$promise:{get:function(){var b=this;return function(c){return new a.Promise(c,b)}}}}))}var f,h,i,j,k,l,m,n,o,p,x,H,M,N,V,Z,$,_,ab,bb,db,eb,fb,gb,hb,ib,jb,kb,mb,pb,sb,tb,ub,b=0,c=1,d=2;return e.reject=function(a){return new e(function(b,c){c(a)})},e.resolve=function(a){return new e(function(b){b(a)})},e.all=function(a){return new e(function(b,c){function g(c){return function(e){f[c]=e,d+=1,d===a.length&&b(f)}}var h,d=0,f=[];for(0===a.length&&b(f),h=0;h<a.length;h+=1)e.resolve(a[h]).then(g(h),c)})},e.race=function(a){return new e(function(b,c){for(var d=0;d<a.length;d+=1)e.resolve(a[d]).then(b,c)})},f=e.prototype,f.resolve=function(a){var e,f,c=this;if(c.state===d){if(a===c)throw new TypeError("Promise settled with itself.");e=!1;try{if(f=a&&a.then,null!==a&&"object"==typeof a&&"function"==typeof f)return f.call(a,function(a){e||c.resolve(a),e=!0},function(a){e||c.reject(a),e=!0}),void 0}catch(g){return e||c.reject(g),void 0}c.state=b,c.value=a,c.notify()}},f.reject=function(a){var b=this;if(b.state===d){if(a===b)throw new TypeError("Promise settled with itself.");b.state=c,b.value=a,b.notify()}},f.notify=function(){var a=this;s(function(){if(a.state!==d)for(;a.deferred.length;){var e=a.deferred.shift(),f=e[0],g=e[1],h=e[2],i=e[3];try{a.state===b?"function"==typeof f?h(f.call(void 0,a.value)):h(a.value):a.state===c&&("function"==typeof g?h(g.call(void 0,a.value)):i(a.value))}catch(j){i(j)}}})},f.then=function(a,b){var c=this;return new e(function(d,e){c.deferred.push([a,b,d,e]),c.notify()})},f.catch=function(a){return this.then(void 0,a)},"undefined"==typeof Promise&&(window.Promise=e),g.all=function(a,b){return new g(Promise.all(a),b)},g.resolve=function(a,b){return new g(Promise.resolve(a),b)},g.reject=function(a,b){return new g(Promise.reject(a),b)},g.race=function(a,b){return new g(Promise.race(a),b)},h=g.prototype,h.bind=function(a){return this.context=a,this},h.then=function(a,b){return a&&a.bind&&this.context&&(a=a.bind(this.context)),b&&b.bind&&this.context&&(b=b.bind(this.context)),new g(this.promise.then(a,b),this.context)},h.catch=function(a){return a&&a.bind&&this.context&&(a=a.bind(this.context)),new g(this.promise.catch(a),this.context)},h.finally=function(a){return this.then(function(b){return a.call(this),b},function(b){return a.call(this),Promise.reject(b)})},i={},j=i.hasOwnProperty,k=[],l=k.slice,m=!1,o="undefined"!=typeof window,p=function(a){var b=a.config,c=a.nextTick;n=c,m=b.debug||!b.silent},x=Array.isArray,H=Object.assign||K,M=function(a,b){var c=b(a);return y(a.root)&&!/^(https?:)?\//.test(c)&&(c=u(a.root,"/")+"/"+c),c},N=function(a,b){var c=Object.keys(W.options.params),d={},e=b(a);return G(a.params,function(a,b){-1===c.indexOf(b)&&(d[b]=a)}),d=W.params(d),d&&(e+=(-1==e.indexOf("?")?"?":"&")+d),e},V=function(a){var b=[],c=O(a.url,a.params,b);return b.forEach(function(b){delete a.params[b]}),c},W.options={url:"",root:null,params:{}},W.transform={template:V,query:N,root:M},W.transforms=["template","query","root"],W.params=function(a){var b=[],c=encodeURIComponent;return b.add=function(a,b){z(b)&&(b=b()),null===b&&(b=""),this.push(c(a)+"="+c(b))},Y(b,a),b.join("&").replace(/%20/g,"+")},W.parse=function(a){var b=document.createElement("a");return document.documentMode&&(b.href=a,a=b.href),b.href=a,{href:b.href,protocol:b.protocol?b.protocol.replace(/:$/,""):"",port:b.port,host:b.host,hostname:b.hostname,pathname:"/"===b.pathname.charAt(0)?b.pathname:"/"+b.pathname,search:b.search?b.search.replace(/^\?/,""):"",hash:b.hash?b.hash.replace(/^#/,""):""}},Z=function(a){return new g(function(b){var c=new XDomainRequest,d=function(d){var e=d.type,f=0;"load"===e?f=200:"error"===e&&(f=500),b(a.respondWith(c.responseText,{status:f}))};a.abort=function(){return c.abort()},c.open(a.method,a.getUrl()),a.timeout&&(c.timeout=a.timeout),c.onload=d,c.onabort=d,c.onerror=d,c.ontimeout=d,c.onprogress=function(){},c.send(a.getBody())})},$=o&&"withCredentials"in new XMLHttpRequest,_=function(a,b){var c,d;o&&(c=W.parse(location.href),d=W.parse(a.getUrl()),(d.protocol!==c.protocol||d.host!==c.host)&&(a.crossOrigin=!0,a.emulateHTTP=!1,$||(a.client=Z))),b()},ab=function(a,b){D(a.body)?a.headers.delete("Content-Type"):A(a.body)&&a.emulateJSON&&(a.body=W.params(a.body),a.headers.set("Content-Type","application/x-www-form-urlencoded")),b()},bb=function(a,b){var c=a.headers.get("Content-Type")||"";A(a.body)&&0===c.indexOf("application/json")&&(a.body=JSON.stringify(a.body)),b(function(a){return a.bodyText?E(a.text(),function(b){if(c=a.headers.get("Content-Type")||"",0===c.indexOf("application/json")||cb(b))try{a.body=JSON.parse(b)}catch(d){a.body=null}else a.body=b;return a}):a})},db=function(a){return new g(function(b){var f,g,c=a.jsonp||"callback",d=a.jsonpCallback||"_jsonp"+Math.random().toString(36).substr(2),e=null;f=function(c){var f=c.type,h=0;"load"===f&&null!==e?h=200:"error"===f&&(h=500),h&&window[d]&&(delete window[d],document.body.removeChild(g)),b(a.respondWith(e,{status:h}))},window[d]=function(a){e=JSON.stringify(a)},a.abort=function(){f({type:"abort"})},a.params[c]=d,a.timeout&&setTimeout(a.abort,a.timeout),g=document.createElement("script"),g.src=a.getUrl(),g.type="text/javascript",g.async=!0,g.onload=f,g.onerror=f,document.body.appendChild(g)})},eb=function(a,b){"JSONP"==a.method&&(a.client=db),b()},fb=function(a,b){z(a.before)&&a.before.call(this,a),b()},gb=function(a,b){a.emulateHTTP&&/^(PUT|PATCH|DELETE)$/i.test(a.method)&&(a.headers.set("X-HTTP-Method-Override",a.method),a.method="POST"),b()},hb=function(a,b){var c=H({},vb.headers.common,a.crossOrigin?{}:vb.headers.custom,vb.headers[v(a.method)]);G(c,function(b,c){a.headers.has(c)||a.headers.set(c,b)}),b()},ib=function(a){return new g(function(b){var c=new XMLHttpRequest,d=function(){var e=a.respondWith("response"in c?c.response:c.responseText,{status:1223===c.status?204:c.status,statusText:1223===c.status?"No Content":t(c.statusText)});G(t(c.getAllResponseHeaders()).split("\n"),function(a){e.headers.append(a.slice(0,a.indexOf(":")),a.slice(a.indexOf(":")+1))}),b(e)};a.abort=function(){return c.abort()},a.progress&&("GET"===a.method?c.addEventListener("progress",a.progress):/^(POST|PUT)$/i.test(a.method)&&c.upload.addEventListener("progress",a.progress)),c.open(a.method,a.getUrl(),!0),a.timeout&&(c.timeout=a.timeout),a.responseType&&"responseType"in c&&(c.responseType=a.responseType),(a.withCredentials||a.credentials)&&(c.withCredentials=!0),a.crossOrigin||a.headers.set("X-Requested-With","XMLHttpRequest"),a.headers.forEach(function(a,b){c.setRequestHeader(b,a)}),c.onload=d,c.onabort=d,c.onerror=d,c.ontimeout=d,c.send(a.getBody())})},jb=function(a){var b=require("got");return new g(function(c){var h,d=a.getUrl(),e=a.getBody(),f=a.method,g={};a.headers.forEach(function(a,b){g[b]=a}),b(d,{body:e,method:f,headers:g}).then(h=function(b){var d=a.respondWith(b.body,{status:b.statusCode,statusText:t(b.statusMessage)});G(b.headers,function(a,b){d.headers.set(b,a)}),c(d)},function(a){return h(a.response)})})},kb=function(a){function e(e){return new g(function(f,g){function h(){d=b.pop(),z(d)?d.call(a,e,i):(q("Invalid interceptor of type "+typeof d+", must be a function"),i())}function i(b){if(z(b))c.unshift(b);else if(A(b))return c.forEach(function(c){b=E(b,function(b){return c.call(a,b)||b},g)}),E(b,f,g),void 0;h()}h()},a)}var d,b=[lb],c=[];return A(a)||(a=null),e.use=function(a){b.push(a)},e},mb=function(a){var b=this;this.map={},G(a,function(a,c){return b.append(c,a)})},mb.prototype.has=function(a){return null!==nb(this.map,a)},mb.prototype.get=function(a){var b=this.map[nb(this.map,a)];return b?b.join():null},mb.prototype.getAll=function(a){return this.map[nb(this.map,a)]||[]},mb.prototype.set=function(a,b){this.map[ob(nb(this.map,a)||a)]=[t(b)]},mb.prototype.append=function(a,b){var c=this.map[nb(this.map,a)];c?c.push(t(b)):this.set(a,b)},mb.prototype.delete=function(a){delete this.map[nb(this.map,a)]},mb.prototype.deleteAll=function(){this.map={}},mb.prototype.forEach=function(a,b){var c=this;G(this.map,function(d,e){G(d,function(d){return a.call(b,d,e,c)})})},pb=function(a,b){var c=b.url,d=b.headers,e=b.status,f=b.statusText;this.url=c,this.ok=e>=200&&300>e,this.status=e||0,this.statusText=f||"",this.headers=new mb(d),this.body=a,y(a)?this.bodyText=a:C(a)&&(this.bodyBlob=a,rb(a)&&(this.bodyText=qb(a)))},pb.prototype.blob=function(){return E(this.bodyBlob)},pb.prototype.text=function(){return E(this.bodyText)},pb.prototype.json=function(){return E(this.text(),function(a){return JSON.parse(a)})},Object.defineProperty(pb.prototype,"data",{get:function(){return this.body},set:function(a){this.body=a}}),sb=function(a){this.body=null,this.params={},H(this,a,{method:w(a.method||"GET")}),this.headers instanceof mb||(this.headers=new mb(this.headers))},sb.prototype.getUrl=function(){return W(this)},sb.prototype.getBody=function(){return this.body},sb.prototype.respondWith=function(a,b){return new pb(a,H(b||{},{url:this.getUrl()}))},tb={Accept:"application/json, text/plain, */*"},ub={"Content-Type":"application/json;charset=utf-8"},vb.options={},vb.headers={put:ub,post:ub,patch:ub,"delete":ub,common:tb,custom:{}},vb.interceptor={before:fb,method:gb,jsonp:eb,json:bb,form:ab,header:hb,cors:_},vb.interceptors=["before","method","jsonp","json","form","header","cors"],["get","delete","head","jsonp"].forEach(function(a){vb[a]=function(b,c){return this(H(c||{},{url:b,method:a}))}}),["post","put","patch"].forEach(function(a){vb[a]=function(b,c,d){return this(H(d||{},{url:b,method:a,body:c}))}}),wb.actions={get:{method:"GET"},save:{method:"POST"},query:{method:"GET"},update:{method:"PUT"},remove:{method:"DELETE"},"delete":{method:"DELETE"}},a.use(yb),yb});